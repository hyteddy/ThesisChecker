<?xml version="1.0" encoding="UTF-8"?>  
<beans xmlns="http://www.springframework.org/schema/beans"  
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
       xmlns:security="http://www.springframework.org/schema/security"  
       xmlns:p="http://www.springframework.org/schema/p"   
       xsi:schemaLocation="http://www.springframework.org/schema/beans  
                           http://www.springframework.org/schema/beans/spring-beans.xsd  
                           http://www.springframework.org/schema/security  
                           http://www.springframework.org/schema/security/spring-security-3.2.xsd">  
  
   	<security:http auto-config="true">  
	   <security:intercept-url pattern="/login" access="IS_AUTHENTICATED_ANONYMOUSLY" />
	   <security:intercept-url pattern="/fail2login" access="IS_AUTHENTICATED_ANONYMOUSLY" />
	   <security:intercept-url pattern="/resources/css/**" access="IS_AUTHENTICATED_ANONYMOUSLY" />
	   <security:intercept-url pattern="/resources/bootstrap/**" access="IS_AUTHENTICATED_ANONYMOUSLY" />
	   <security:intercept-url pattern="/resources/js/**" access="IS_AUTHENTICATED_ANONYMOUSLY" />
	   <security:intercept-url pattern="/**" access="ROLE_USER,ROLE_ADMIN" />
	   <security:form-login login-page="/login" default-target-url="/test/index"  
	   	authentication-failure-url="/fail2login" />  
	   <security:logout logout-success-url="/login" />  
	</security:http>  
  
    <security:authentication-manager>  
   		<security:authentication-provider>   
    		 <security:jdbc-user-service data-source-ref="dataSource"    
     			 	users-by-username-query="select email, password, active from user where email=?"   
          			authorities-by-username-query="select email, role from user where email=?"
  	 		 />  
   		</security:authentication-provider>  
 	</security:authentication-manager>  
  
</beans> 